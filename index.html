<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adam's Pictionary Party üé®</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>

<body>

    <div id="app-container">
        <!-- 1. WELCOME STEP -->
        <div id="view-welcome" class="view-card">
            <h1>üé® Pictionary Party!</h1>
            <p>Welcome! What is your name?</p>
            <input type="text" id="input-name" class="neat-input" placeholder="Adam..." maxlength="12">
            <div class="btn-group">
                <button class="btn-big btn-primary" onclick="submitName()">LET'S GO! üöÄ</button>
            </div>
        </div>

        <!-- 2. MODE SELECT -->
        <div id="view-mode-select" class="view-card hidden">
            <h2>Hi, <span id="display-name" style="color:var(--primary)">Friend</span>! üëã</h2>
            <p>What do you want to do?</p>
            <div class="btn-group">
                <button class="btn-big btn-secondary" onclick="enterJoinMode()">ü§ù JOIN A FRIEND</button>
                <div style="font-size:0.8rem; color:#888;">- OR -</div>
                <button class="btn-big btn-primary" onclick="enterCreateMode()">‚ú® CREATE NEW ROOM</button>
            </div>
            <button class="btn-back" onclick="location.reload()">Back</button>
        </div>

        <!-- 3. CREATE SETTINGS -->
        <div id="view-create" class="view-card hidden">
            <h2>Create Room</h2>

            <p>Language</p>
            <div class="toggle-group" data-type="lang">
                <div class="toggle-option selected" data-value="EN" onclick="selectSetting('lang','EN')">üá¨üáß English
                </div>
                <div class="toggle-option" data-value="NL" onclick="selectSetting('lang','NL')">üá≥üá± Dutch</div>
            </div>

            <p>Difficulty</p>
            <div class="toggle-group" data-type="diff">
                <div class="toggle-option selected" data-value="EASY" onclick="selectSetting('diff','EASY')">üòÑ Easy
                </div>
                <div class="toggle-option" data-value="HARD" onclick="selectSetting('diff','HARD')">ü§Ø Hard</div>
            </div>

            <div class="btn-group">
                <button class="btn-big btn-primary" onclick="createGame()">START GAME ‚ñ∂</button>
            </div>
            <button class="btn-back" onclick="switchView('mode')">Back</button>
        </div>

        <!-- 4. JOIN ROOM -->
        <div id="view-join" class="view-card hidden">
            <h2>Join Room</h2>
            <p>Enter the 4-digit code:</p>
            <input type="number" id="input-room-code" class="neat-input code-input" placeholder="0000">
            <div class="btn-group">
                <button class="btn-big btn-secondary" onclick="joinGame()">JOIN NOW! üöÄ</button>
            </div>
            <button class="btn-back" onclick="switchView('mode')">Back</button>
        </div>

        <!-- 5. GAME BOARD -->
        <div id="view-game" class="hidden">
            <div class="game-header">
                <div id="room-badge">Room: ???</div>
                <div id="word-display" style="font-size:2rem; font-family:'Bangers'; color:var(--dark);">WAITING...
                </div>
                <div class="timer-badge">60s</div>
            </div>

            <div style="display:flex; gap:20px;">
                <!-- PLAYERS -->
                <div class="view-card" style="width:200px; padding:20px; text-align:left;">
                    <h3>Players</h3>
                    <div id="players-list">Loading...</div>
                </div>

                <!-- CANVAS -->
                <div style="flex:1;">
                    <div class="canvas-container">
                        <canvas id="main-canvas" width="600" height="400" style="width:100%"></canvas>
                    </div>

                    <div class="canvas-toolbar hidden">
                        <div class="color-dot active" style="background:black" onclick="setColor('#000')"></div>
                        <div class="color-dot" style="background:#ff4757" onclick="setColor('#ff4757')"></div>
                        <div class="color-dot" style="background:#2ed573" onclick="setColor('#2ed573')"></div>
                        <div class="color-dot" style="background:#1e90ff" onclick="setColor('#1e90ff')"></div>
                        <button onclick="clearBoard()"
                            style="margin-left:20px; padding:5px 15px; border-radius:20px; background:#dfe4ea; border:none;">üóëÔ∏è
                            Clear</button>
                    </div>
                </div>

                <!-- CHAT -->
                <div class="view-card" style="width:250px; padding:20px; display:flex; flex-direction:column;">
                    <h3>Guesses</h3>
                    <div id="chat-box" class="chat-box"></div>
                    <div style="display:flex; margin-top:10px;">
                        <input id="input-guess" type="text"
                            style="width:100%; padding:10px; border-radius:10px; border:2px solid #ddd;"
                            placeholder="Type guess..." onkeydown="if(event.key==='Enter') submitGuess()">
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- SCRIPTS -->
    <script src="js/firebase-config.js"></script>
    <script src="js/words.js"></script>
    <script src="js/game.js"></script>
</body>

</html>